<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Big/Small Predictor</title>
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; background:#111; color:#fff; text-align:center; padding:20px; }
    #output { margin-top:20px; white-space:pre-wrap; }
    .prediction { font-size:20px; font-weight:bold; margin-top:20px; color:gold; }
  </style>
</head>
<body>
  <h1>Big/Small Image Predictor</h1>
  <input type="file" id="imageInput" accept="image/*">
  <div id="output"></div>
  <div class="prediction" id="prediction"></div>

  <script>
    document.getElementById("imageInput").addEventListener("change", async (e) => {
      const file = e.target.files[0];
      if (!file) return;

      const { data: { text } } = await Tesseract.recognize(file, "eng");
      document.getElementById("output").innerText = "Extracted Text:\n" + text;

      // Find Big/Small results in text
      const results = text.match(/Big|Small/gi) || [];
      const last10 = results.slice(-10);

      if (last10.length > 0) {
        // Simple prediction logic (example): Count which is more in last 10
        const bigCount = last10.filter(r => r.toLowerCase() === "big").length;
        const smallCount = last10.length - bigCount;

        let prediction = bigCount > smallCount ? "Next may be: SMALL" : "Next may be: BIG";

        document.getElementById("prediction").innerText = 
          `Last 10: ${last10.join(", ")}\n${prediction}`;
      } else {
        document.getElementById("prediction").innerText = "No Big/Small found in image.";
      }
    });
  </script>
</body>
</html>