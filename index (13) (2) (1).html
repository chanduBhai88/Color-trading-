<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart Big/Small Bot</title>
  <style>
    body { background:#111; color:#fff; font-family:Arial; text-align:center; padding:20px; }
    h1 { color:gold; }
    .btn { margin:5px; padding:12px 20px; font-size:16px; border:none; border-radius:10px; cursor:pointer; }
    .big-btn { background:#00ff99; color:#000; }
    .small-btn { background:#ff4444; color:#000; }
    .clear-btn { background:#888; color:#fff; }
    #history { margin-top:20px; font-size:16px; }
    #result { margin-top:20px; font-size:18px; font-weight:bold; color:#0f0; white-space:pre-wrap; }
  </style>
</head>
<body>
  <h1>Smart Big/Small Predictor Bot</h1>
  <div>
    <button class="btn big-btn" onclick="addResult('big')">BIG</button>
    <button class="btn small-btn" onclick="addResult('small')">SMALL</button>
    <button class="btn clear-btn" onclick="clearResults()">CLEAR</button>
  </div>

  <div id="history">History: (no input yet)</div>
  <div id="result"></div>

  <script>
    let results = [];

    function addResult(value) {
      results.push(value);
      updateHistory();
      predict();
    }

    function clearResults() {
      results = [];
      document.getElementById("history").innerText = "History: (no input yet)";
      document.getElementById("result").innerText = "";
    }

    function updateHistory() {
      let last10 = results.slice(-10).map(r => r.toUpperCase()).join(", ");
      document.getElementById("history").innerText = "History (Last 10): " + (last10 || "(empty)");
    }

    function predict() {
      if (results.length < 5) {
        document.getElementById("result").innerText = "ðŸ‘‰ Need at least 5 inputs for prediction!";
        return;
      }

      const last10 = results.slice(-10);
      const last = results[results.length - 1];

      // 1. Streak check
      let streak = 1;
      for (let i = results.length - 2; i >= 0; i--) {
        if (results[i] === last) streak++;
        else break;
      }

      // 2. Ratio check (last 10)
      const bigCount = last10.filter(r => r === "big").length;
      const smallCount = last10.length - bigCount;

      // 3. Cycle check (simple alternating detection)
      let cyclePrediction = "";
      if (last10.length >= 4) {
        const pattern = last10.slice(-4).join(",");
        if (pattern === "big,small,big,small") cyclePrediction = "big";
        if (pattern === "small,big,small,big") cyclePrediction = "small";
      }

      // Final decision + confidence
      let prediction = "";
      let confidence = 50;

      if (streak >= 3) {
        prediction = (last === "big") ? "small" : "big";
        confidence = 80;
      } else if (cyclePrediction) {
        prediction = cyclePrediction;
        confidence = 75;
      } else {
        prediction = bigCount > smallCount ? "small" : "big";
        confidence = 65;
      }

      document.getElementById("result").innerText =
        `Streak: ${streak}\nBig: ${bigCount}, Small: ${smallCount}\nðŸ‘‰ Next HIGH chance: ${prediction.toUpperCase()} (Confidence: ${confidence}%)`;
    }
  </script>
</body>
</html>