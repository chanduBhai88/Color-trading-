<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Big/Small 9-digit Predictor</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #0b3d91, #071029);
    color: white;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    min-height: 100vh;
  }
  h1 {
    margin-bottom: 10px;
  }
  #input-display {
    font-size: 2rem;
    letter-spacing: 0.5rem;
    margin-bottom: 20px;
    min-height: 50px;
    user-select: none;
  }
  .btn-group {
    margin-bottom: 15px;
  }
  button {
    background: #0057d9;
    border: none;
    color: white;
    font-size: 1.4rem;
    padding: 10px 20px;
    margin: 5px;
    border-radius: 5px;
    cursor: pointer;
    min-width: 80px;
    user-select: none;
    transition: background 0.3s ease;
  }
  button:disabled {
    background: #444;
    cursor: not-allowed;
  }
  button:hover:not(:disabled) {
    background: #003ea8;
  }
  #result {
    font-size: 2.5rem;
    margin-top: 20px;
    min-height: 60px;
  }
  #right-wrong-buttons {
    margin-top: 20px;
  }
  #right-wrong-buttons button {
    min-width: 100px;
  }
</style>
</head>
<body>

<h1>Big/Small 9-Digit Predictor</h1>

<div id="input-display"></div>

<div class="btn-group" id="bs-buttons">
  <button id="btn-B">B</button>
  <button id="btn-S">S</button>
  <button id="btn-Clear">Clear</button>
</div>

<div class="btn-group">
  <button id="btn-Result" disabled>Result</button>
</div>

<div id="result"></div>

<div id="right-wrong-buttons" style="display:none;">
  <button id="btn-Right">Right</button>
  <button id="btn-Wrong">Wrong</button>
</div>

<script>
// --- Your long pattern data as array of objects ---
// Each pattern: {input: "9-char B/S string", result: "B" or "S"}
// I'll parse your given data to create a simplified example here for demo.
// In practice, you should convert your big pattern dataset into this format.
// For now, I'm creating a sample patterns object with some patterns to demo.

const patterns = [
  // Example patterns for demo (replace with your full dataset)
  { input: "BSSBBBBSB", result: "B" },
  { input: "SSBBBBSBB", result: "S" },
  { input: "BSBSBSBSB", result: "B" },
  { input: "BBBBSSSSB", result: "S" },
  { input: "BSSBBSBBS", result: "S" },
  // ... add your actual patterns here
];

// A function to find result for a given 9-digit input string from patterns
function findResult(inputStr) {
  for (const pattern of patterns) {
    if (pattern.input === inputStr) {
      return pattern.result;
    }
  }
  return null; // no match found
}

// App state
let currentInput = "";
let awaitingFeedback = false;

const inputDisplay = document.getElementById("input-display");
const btnB = document.getElementById("btn-B");
const btnS = document.getElementById("btn-S");
const btnClear = document.getElementById("btn-Clear");
const btnResult = document.getElementById("btn-Result");
const resultDiv = document.getElementById("result");
const rightWrongDiv = document.getElementById("right-wrong-buttons");
const btnRight = document.getElementById("btn-Right");
const btnWrong = document.getElementById("btn-Wrong");

// Helper: update input display
function updateInputDisplay() {
  // Show spaced input for clarity
  inputDisplay.textContent = currentInput.split("").join(" ");
}

// Helper: reset all states for new input
function resetInput() {
  currentInput = "";
  updateInputDisplay();
  btnResult.disabled = true;
  resultDiv.textContent = "";
  rightWrongDiv.style.display = "none";
  awaitingFeedback = false;
  enableBSButtons(true);
}

// Enable or disable B/S buttons
function enableBSButtons(enable) {
  btnB.disabled = !enable;
  btnS.disabled = !enable;
  btnClear.disabled = !enable ? false : currentInput.length === 0; // Clear always enabled if input present
}

// Event: Clicking B or S buttons
function onBSClick(char) {
  if (awaitingFeedback) return; // block input until feedback given
  if (currentInput.length < 9) {
    currentInput += char;
    updateInputDisplay();
    btnClear.disabled = false;
    if (currentInput.length === 9) {
      btnResult.disabled = false;
      enableBSButtons(false);
    }
  }
}

// Event: Clear input
function onClear() {
  if (awaitingFeedback) return;
  resetInput();
}

// Event: Show result after 9 inputs
function onResult() {
  if (currentInput.length !== 9) return; // safety check

  const res = findResult(currentInput);
  if (res === null) {
    resultDiv.textContent = "No Match Found";
  } else {
    resultDiv.textContent = "Result: " + res;
  }

  awaitingFeedback = true;
  rightWrongDiv.style.display = "block";
  btnResult.disabled = true;
  btnClear.disabled = true;
}

// Event: User clicks Right or Wrong
function onFeedback(isRight) {
  // For now, just clear input and allow new input
  resetInput();
}

// Bind events
btnB.addEventListener("click", () => onBSClick("B"));
btnS.addEventListener("click", () => onBSClick("S"));
btnClear.addEventListener("click", onClear);
btnResult.addEventListener("click", onResult);
btnRight.addEventListener("click", () => onFeedback(true));
btnWrong.addEventListener("click", () => onFeedback(false));

// Init
resetInput();

</script>
</body>
</html>