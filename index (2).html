<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Big/Small Predictor</title>
    <style>
        :root {
            --bg-color: white;
            --text-color: black;
            --button-color: #ddd;
            --big-color: #ff6b6b;
            --small-color: #48dbfb;
            --result-color: #1dd1a1;
            --clear-color: #576574;
        }

        [data-theme="dark"] {
            --bg-color: black;
            --text-color: white;
            --button-color: #333;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            text-align: center;
            transition: background-color 0.3s, color 0.3s;
        }

        .input-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        button {
            padding: 12px 25px;
            font-size: 18px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }

        #bigBtn {
            background-color: var(--big-color);
            color: white;
        }

        #smallBtn {
            background-color: var(--small-color);
            color: black;
        }

        #resultBtn {
            background-color: var(--result-color);
            color: white;
        }

        #clearBtn {
            background-color: var(--clear-color);
            color: white;
        }

        #inputsList {
            margin: 20px 0;
            font-size: 18px;
        }

        #prediction {
            font-size: 22px;
            font-weight: bold;
            margin-top: 20px;
            min-height: 30px;
        }

        #memoryList {
            margin-top: 30px;
            font-size: 16px;
        }

        .hidden {
            display: none;
        }

        #themeToggle {
            margin-top: 10px;
            cursor: pointer;
            padding: 8px 16px;
            background-color: var(--button-color);
            color: var(--text-color);
            border-radius: 5px;
        }
    </style>
</head>
<body data-theme="light">
    <h1>Big/Small Predictor</h1>

    <div class="input-buttons">
        <button id="bigBtn">BIG</button>
        <button id="smallBtn">SMALL</button>
        <button id="clearBtn">CLEAR</button>
    </div>

    <div id="inputsList">Inputs: </div>

    <button id="resultBtn" class="hidden">GET RESULT</button>

    <div id="prediction"></div>

    <div id="memoryList"><strong>Last 10 Predictions:</strong><br><ul id="memoryOutput"></ul></div>

    <button id="themeToggle">Switch Theme</button>

    <script>
        const inputs = [];
        const memory = [];
        const maxMemory = 10;

        const bigBtn = document.getElementById('bigBtn');
        const smallBtn = document.getElementById('smallBtn');
        const resultBtn = document.getElementById('resultBtn');
        const clearBtn = document.getElementById('clearBtn');
        const themeToggle = document.getElementById('themeToggle');
        const inputsList = document.getElementById('inputsList');
        const predictionDiv = document.getElementById('prediction');
        const memoryOutput = document.getElementById('memoryOutput');
        const body = document.body;

        bigBtn.addEventListener('click', () => addInput('Big'));
        smallBtn.addEventListener('click', () => addInput('Small'));
        resultBtn.addEventListener('click', showPrediction);
        clearBtn.addEventListener('click', clearInputs);
        themeToggle.addEventListener('click', toggleTheme);

        function addInput(value) {
            inputs.push(value);
            updateInputsDisplay();
            if (inputs.length >= 5) {
                resultBtn.classList.remove('hidden');
            }
        }

        function updateInputsDisplay() {
            inputsList.textContent = 'Inputs: ' + inputs.join(', ');
        }

        function showPrediction() {
            if (inputs.length < 5) {
                predictionDiv.textContent = "Please enter at least 5 inputs";
                return;
            }

            const lastFive = inputs.slice(-5);
            const bigCount = lastFive.filter(x => x === 'Big').length;
            const smallCount = lastFive.filter(x => x === 'Small').length;

            let prediction;
            if (bigCount > smallCount) {
                prediction = "Small (since there were more Bigs)";
            } else if (smallCount > bigCount) {
                prediction = "Big (since there were more Smalls)";
            } else {
                prediction = "Could be Big or Small (equal count)";
            }

            predictionDiv.textContent = "Prediction: " + prediction;

            // Add to memory
            memory.unshift(prediction);
            if (memory.length > maxMemory) {
                memory.pop();
            }
            updateMemoryDisplay();
        }

        function updateMemoryDisplay() {
            memoryOutput.innerHTML = '';
            memory.forEach((item, index) => {
                const li = document.createElement('li');
                li.textContent = `${index + 1}. ${item}`;
                memoryOutput.appendChild(li);
            });
        }

        function clearInputs() {
            inputs.length = 0;
            updateInputsDisplay();
            predictionDiv.textContent = "";
            resultBtn.classList.add('hidden');
        }

        function toggleTheme() {
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            body.setAttribute('data-theme', newTheme);
            themeToggle.textContent = newTheme === 'light' ? "Switch Theme" : "Switch Theme";
        }
    </script>
</body>
</html>