<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>‚ù§Ô∏è RajaGame Predictor (Big/Small)</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: url('https://images.unsplash.com/photo-1589998059171-988d887df646?auto=format&fit=crop&w=1470&q=80') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
    }

    .container {
      background: rgba(0, 0, 0, 0.75);
      max-width: 500px;
      margin: 50px auto;
      padding: 20px;
      border-radius: 20px;
      box-shadow: 0 0 25px rgba(255,0,100,0.5);
      text-align: center;
    }

    h2 {
      margin-bottom: 20px;
    }

    .inputs {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-bottom: 20px;
    }

    select {
      padding: 10px;
      font-size: 1rem;
      border-radius: 8px;
      border: none;
      width: 100px;
      text-align: center;
    }

    button {
      width: 100%;
      padding: 12px;
      font-size: 1rem;
      background-color: #ff4081;
      border: none;
      border-radius: 10px;
      color: white;
      cursor: pointer;
    }

    .result {
      margin-top: 20px;
      font-weight: bold;
      font-size: 1.5rem;
      color: #ff4d4d;
      opacity: 0;
      transform: scale(0.9);
      transition: all 0.5s ease-in-out;
    }

    .result.show {
      opacity: 1;
      transform: scale(1.2);
      animation: pulse 1s infinite alternate;
    }

    @keyframes pulse {
      from {
        color: #ff4d4d;
        text-shadow: 0 0 5px #ff4d4d;
      }
      to {
        color: #ffeb3b;
        text-shadow: 0 0 10px #ffeb3b;
      }
    }

    .memory {
      margin-top: 25px;
      text-align: left;
      background: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border-radius: 12px;
    }

    .memory h4 {
      margin: 0 0 10px;
      font-size: 1rem;
      color: #ffc0cb;
    }

    .memory ul {
      padding-left: 20px;
      margin: 0;
    }

    .memory li {
      margin-bottom: 4px;
      color: #fff;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>‚ù§Ô∏è RajaGame Predictor</h2>
    <div class="inputs" id="input-container"></div>
    <button onclick="predict()">üîÆ Predict Next</button>
    <div class="result" id="result">Enter last 7 Big/Small results.</div>

    <!-- üß† Memory of last 5 predictions -->
    <div class="memory" id="memory-box">
      <h4>üß† Last 5 Predictions:</h4>
      <ul id="memory-list"></ul>
    </div>
  </div>

  <!-- üîä Sound Effects -->
  <audio id="successSound" src="https://cdn.pixabay.com/audio/2023/03/25/audio_c6191129df.mp3"></audio>
  <audio id="errorSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_37f6e33a1f.mp3"></audio>
  <!-- New tune provided by user -->
  <audio id="resultTune" src="Phone Notification Sound.mp3"></audio>

  <script>
    const history = [
      // Original + extracted Big/Small results
      "Small", "Big", "Big", "Small", "Big", "Big", "Big", "Small", "Big", "Small",
      "Small", "Big", "Small", "Small", "Big", "Big", "Big", "Small", "Big", "Big",
      "Small", "Big", "Big", "Big", "Small", "Small", "Big", "Big", "Small", "Small",
      "Small", "Small", "Big", "Big", "Big", "Big", "Big", "Big", "Small", "Big",
      "Small", "Small", "Big", "Small", "Small", "Small", "Big", "Big", "Big", "Big",
      "Small", "Big", "Big", "Big", "Big", "Small", "Small", "Big", "Small", "Small",
      "Small", "Big", "Big", "Small", "Big", "Small", "Big", "Big", "Big", "Big",
      "Small", "Big", "Big", "Small", "Big", "Small", "Big", "Big", "Big", "Small",
      "Big", "Big", "Big", "Small", "Big", "Small", "Big", "Big", "Small", "Big",
      "Big", "Small", "Small", "Small", "Small", "Small", "Small", "Small", "Small", "Small",
      "Small", "Small", "Small", "Big", "Small", "Big", "Small", "Big", "Small", "Big",
      "Small", "Small"
    "Big", "Small", "Small", "Small", "Big", "Big", "Big", "Small", "Small", "Big",
    "Big", "Big", "Big", "Small", "Small", "Small", "Big", "Big", "Small", "Small",
    "Big", "Big", "Small", "Small", "Big", "Big", "Big", "Small", "Small", "Big",
    "Small", "Small", "Big", "Big", "Small", "Small", "Small", "Small", "Big", "Big",
    "Big", "Small", "Small", "Big", "Small", "Small", "Big", "Big", "Small", "Big"
  ];

    const container = document.getElementById("input-container");
    const resultBox = document.getElementById("result");
    const memoryList = document.getElementById("memory-list");
    const memory = [];

    const inputLength = 7; // changed to 7

    // Create dropdowns
    for (let i = 0; i < inputLength; i++) {
      const select = document.createElement("select");
      ["--", "Big", "Small"].forEach(val => {
        const opt = document.createElement("option");
        opt.value = val === "--" ? "" : val;
        opt.textContent = val;
        select.appendChild(opt);
      });
      select.id = "s" + i;
      container.appendChild(select);
    }

    function playSound(id) {
      const sound = document.getElementById(id);
      if (sound) {
        sound.currentTime = 0;
        sound.play();
      }
    }

    function showResult(msg, success) {
      resultBox.innerHTML = msg;
      // play the provided tune on every result
      playSound("resultTune");
      if (success) {
        resultBox.classList.add("show");
        playSound("successSound");
      } else {
        resultBox.classList.remove("show");
        playSound("errorSound");
      }
    }

    function updateMemory(entry) {
      memory.unshift(entry);
      if (memory.length > 5) memory.pop();

      memoryList.innerHTML = memory.map(item => `<li>${item}</li>`).join('');
    }

    function predict() {
      const pattern = [];
      for (let i = 0; i < inputLength; i++) {
        const val = document.getElementById("s" + i).value;
        if (!val) {
          showResult("‚ùå Please select all 7 inputs.", false);
          return;
        }
        pattern.push(val);
      }

      const strPattern = pattern.join("-");
      for (let i = 0; i <= history.length - (inputLength + 1); i++) {
        const current = history.slice(i, i + inputLength).join("-");
        if (current === strPattern) {
          const next = history[i + inputLength];
          showResult(`‚úÖ Matched! Predicted Next: <b>${next}</b>`, true);
          updateMemory(`‚úÖ ${strPattern} ‚ûú <b>${next}</b>`);
          return;
        }
      }

      const bigCount = pattern.filter(p => p === "Big").length;
      const smallCount = pattern.filter(p => p === "Small").length;
      const fallback = bigCount > smallCount ? "Small" : "Big";

      showResult(`‚ö†Ô∏è Pattern not found. Fallback: <b>${fallback}</b><br>
        <img src="https://via.placeholder.com/500x200/ffb6c1/000000?text=Heart+Fallback" alt="No Match" style="margin-top:10px; max-width:100%; border-radius:12px;">`, false);

      updateMemory(`‚ö†Ô∏è ${strPattern} ‚ûú <b>${fallback}</b> (fallback)`);
    }
  </script>
</body>
</html>