<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Advanced Big Small + Number Predictor</title>
  <style>
    body { background:#111; color:#fff; font-family:sans-serif; text-align:center; }
    .box { background:#222; padding:20px; margin:15px; border-radius:10px; display:inline-block; }
    select, button { padding:10px; margin:5px; border-radius:5px; font-size:16px; }
    #history, #prediction { margin-top:20px; text-align:left; max-width:700px; margin-left:auto; margin-right:auto; }
    .vip { color:#0f0; font-weight:bold; }
    .timer { font-size:22px; margin:15px; }
  </style>
</head>
<body>

  <h1>🔮 Advanced Big Small + Number Predictor</h1>
  <div class="timer">⏳ Next Auto Round in: <span id="timer">60</span> sec</div>

  <div class="box">
    <label>Choose Big/Small:</label>
    <select id="bsChoice">
      <option value="Big">Big (5–9)</option>
      <option value="Small">Small (0–4)</option>
    </select><br>

    <label>Choose Number (0–9):</label>
    <select id="numChoice">
      <option value="0">0</option><option value="1">1</option>
      <option value="2">2</option><option value="3">3</option>
      <option value="4">4</option><option value="5">5</option>
      <option value="6">6</option><option value="7">7</option>
      <option value="8">8</option><option value="9">9</option>
    </select><br>

    <button onclick="addInput()">Add Input</button>
    <button onclick="predict()">Predict Next</button>
    <button onclick="clearAll()">Clear All</button>
    <button onclick="toggleVIP()">VIP Mode</button>
  </div>

  <div id="history" class="box">
    <h2>📜 History</h2>
    <div id="historyList"></div>
  </div>

  <div id="prediction" class="box">
    <h2>📈 Prediction</h2>
    <div id="predictionResult">No data yet</div>
  </div>

  <script>
    let history = [];
    let vipMode = false;
    let timer = 60;
    let timerInterval;

    function addInput(auto=false) {
      let bs, num;

      if(auto){ 
        // auto random input
        num = Math.floor(Math.random()*10);
        bs = num <=4 ? "Small":"Big";
      } else {
        bs = document.getElementById("bsChoice").value;
        num = parseInt(document.getElementById("numChoice").value);
      }

      history.push({ bs, num });
      updateHistory();
    }

    function updateHistory() {
      let html = history.map((h,i)=>`#${i+1} → ${h.bs} (${h.num})`).join("<br>");
      document.getElementById("historyList").innerHTML = html;
    }

    function clearAll() {
      history = [];
      updateHistory();
      document.getElementById("predictionResult").innerHTML = "No data yet";
    }

    function predict() {
      if(history.length < 5){
        document.getElementById("predictionResult").innerHTML = "⚠️ Add at least 5 inputs first!";
        return;
      }

      let last20 = history.slice(-20);
      let countNums = Array(10).fill(0);
      let bigCount=0, smallCount=0;

      last20.forEach(h=>{
        countNums[h.num]++;
        if(h.num <= 4) smallCount++; else bigCount++;
      });

      let hot = countNums.indexOf(Math.max(...countNums));
      let cold = countNums.indexOf(Math.min(...countNums));
      let likelyRange = bigCount>smallCount ? "Big (5–9)" : "Small (0–4)";

      // Confidence calculation
      let diff = Math.abs(bigCount-smallCount);
      let confidence = Math.min(90, 50 + diff*5);

      let result = `
        🔥 Hot Number: ${hot}<br>
        ❄️ Cold Number: ${cold}<br>
        📊 Likely Range: ${likelyRange}<br>
        ✅ Confidence: ${confidence}%
      `;

      // VIP Mode Extra Analysis
      if(vipMode){
        let streak=1, last=last20[0].bs, maxStreak=1, streakSide=last;
        for(let i=1;i<last20.length;i++){
          if(last20[i].bs===last){ streak++; if(streak>maxStreak){maxStreak=streak; streakSide=last;} }
          else{ streak=1; last=last20[i].bs; }
        }
        if(maxStreak>=3){
          result += `<br><span class="vip">VIP Trend → Long ${streakSide} streak (${maxStreak}) → Break Expected Soon!</span>`;
        } else {
          result += `<br><span class="vip">VIP Trend → Mixed pattern, follow hot number strategy.</span>`;
        }
      }

      document.getElementById("predictionResult").innerHTML = result;
    }

    function toggleVIP(){
      vipMode = !vipMode;
      alert(vipMode ? "✅ VIP Mode Activated" : "❌ VIP Mode Deactivated");
    }

    // Auto Timer Function
    function startTimer(){
      timerInterval = setInterval(()=>{
        timer--;
        if(timer<=0){
          timer=60;
          addInput(true);
          predict();
        }
        document.getElementById("timer").innerText = timer;
      },1000);
    }
    startTimer();
  </script>
</body>
</html>