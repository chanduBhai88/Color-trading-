<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pattern Memory Test</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        background: linear-gradient(to right, #20002c, #cbb4d4);
        color: white;
        padding: 20px;
    }
    #patternDisplay {
        font-size: 2rem;
        margin: 20px;
        padding: 10px;
        border: 2px solid cyan;
        display: inline-block;
        border-radius: 10px;
    }
    #userInput {
        font-size: 1.5rem;
        text-align: center;
        padding: 5px;
        width: 250px;
        border: 2px solid cyan;
        border-radius: 10px;
        margin-top: 10px;
    }
    button {
        padding: 10px 20px;
        font-size: 1rem;
        margin: 10px;
        border-radius: 10px;
        border: none;
        cursor: pointer;
    }
    #resultBtn { background: gray; }
    #clearBtn { background: purple; color: white; }
    .correct { color: lightgreen; font-size: 1.2rem; }
    .incorrect { color: red; font-size: 1.2rem; }
</style>
</head>
<body>

<h1>Pattern Memory Game</h1>
<div id="patternDisplay"></div>
<p>Pattern will be shown for: <span id="countdown">5</span> seconds</p>

<p>Enter the pattern you remember (10 characters):</p>
<input type="text" id="userInput" maxlength="10" disabled>
<br>
<button id="resultBtn" disabled>CHECK RESULT</button>
<button id="clearBtn">CLEAR INPUT</button>

<h3>Feedback:</h3>
<p id="feedbackMessage"></p>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const fullPattern = "BSBBSBSSSBSBSBBBSSBSBBBSSBBSSBBSBBSSSSSBSSS SSSSSSSSSBBSSBBSSSBSSB SBBBSBBBBSSBSSBBBBSBSSBBSBBBSSBBSSSSBBSBSSBSSSBBBSSBBSSBSBBBSSBBSSSSBSSBSSBSSBBSSSSBBSBBSBBSSBSSSBSBBSSSBBSBSBSBBSSSBBSBSBSBSSBBSBSSBBSSSSBBSSBSSBSBBSSBBBBBSSSBSSBBSSBSSBBSSSSBBSBBSBBSSBBBSSSBSSSBSBBSSSSBSBBSSSBBSBSSBBSSSBBSSBSSSBBSBBSSSSBBSBBBRSSBSBBBSBSBBSSBBBSBBSBBSSBSBBBBSBBRBBSSSBSSSBBBSSBSSSRSSBSSSSBSSBBSSBSBSSSBBSBSBB";
    const cleanPattern = fullPattern.replace(/ /g, '').replace(/R/g, 'B');

    const chunks = [];
    for (let i = 0; i < cleanPattern.length; i += 10) {
        chunks.push(cleanPattern.substring(i, i + 10));
    }

    const patternDisplay = document.getElementById('patternDisplay');
    const userInput = document.getElementById('userInput');
    const resultBtn = document.getElementById('resultBtn');
    const clearBtn = document.getElementById('clearBtn');
    const feedbackMessage = document.getElementById('feedbackMessage');
    const countdownEl = document.getElementById('countdown');

    let currentChunkIndex = 0;
    let timer;
    let secondsLeft = 5;

    function init() {
        showPattern();
    }

    function showPattern() {
        patternDisplay.textContent = chunks[currentChunkIndex];
        feedbackMessage.textContent = "";
        userInput.value = "";
        userInput.disabled = true;
        resultBtn.disabled = true;

        secondsLeft = 5;
        countdownEl.textContent = secondsLeft;

        clearInterval(timer);
        timer = setInterval(() => {
            secondsLeft--;
            countdownEl.textContent = secondsLeft;

            if (secondsLeft <= 0) {
                clearInterval(timer);
                patternDisplay.textContent = "⏱️ Time's up! Enter what you remember";
                userInput.disabled = false;
                resultBtn.disabled = false;
                userInput.focus();
            }
        }, 1000);
    }

    function checkResult() {
        const userPattern = userInput.value.toUpperCase().replace(/\s/g, '');
        if (userPattern.length !== 10) {
            feedbackMessage.textContent = "Please enter exactly 10 characters!";
            feedbackMessage.className = "incorrect";
            return;
        }
        if (!/^[BS]+$/.test(userPattern)) {
            feedbackMessage.textContent = "Only 'B' and 'S' are allowed!";
            feedbackMessage.className = "incorrect";
            return;
        }

        const currentPattern = chunks[currentChunkIndex];
        const isCorrect = userPattern === currentPattern;

        if (isCorrect) {
            feedbackMessage.textContent = "✅ Correct! Well done!";
            feedbackMessage.className = "correct";
        } else {
            feedbackMessage.textContent = `❌ Incorrect! The pattern was: ${currentPattern}`;
            feedbackMessage.className = "incorrect";
        }

        resultBtn.disabled = true;
        // Delay before next pattern so user can see result
        setTimeout(nextPattern, 3000);
    }

    function nextPattern() {
        currentChunkIndex = (currentChunkIndex + 1) % chunks.length;
        showPattern();
    }

    resultBtn.addEventListener('click', checkResult);
    clearBtn.addEventListener('click', () => {
        userInput.value = "";
        userInput.focus();
    });
    userInput.addEventListener('input', function () {
        this.value = this.value.toUpperCase().replace(/[^BS\s]/g, '');
    });

    init();
});
</script>

</body>
</html>